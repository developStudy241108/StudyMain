# 2주차-k8s기초

<aside>
💡

쿠버네티스(Kubernetes)는 컨테이너화된 애플리케이션의 배포, 확장 및 운영을 자동화하는 오픈 소스 플랫폼입니다. Google이 처음 개발하고 이후 오픈소스로 공개하여 CNCF(Cloud Native Computing Foundation)에서 관리하고 있습니다. 
다음은 쿠버네티스의 핵심 개념입니다.

</aside>

### 1. **컨테이너와 오케스트레이션**

- 쿠버네티스는 Docker와 같은 컨테이너 런타임을 통해 컨테이너를 실행하고 관리합니다. 컨테이너는 애플리케이션과 그에 필요한 모든 종속성을 하나로 묶어 일관된 환경에서 실행되도록 하는 가상화 방식입니다.
- 컨테이너가 많아질수록 수동 관리가 어려워지는데, 쿠버네티스는 이 컨테이너들을 자동으로 배포, 확장, 복구하는 오케스트레이션 역할을 합니다.

### 2. **Pod**

- 쿠버네티스에서 컨테이너의 최소 배포 단위는 **Pod**입니다. 일반적으로 하나의 Pod에 하나의 컨테이너가 있지만, 필요에 따라 여러 개의 컨테이너가 하나의 Pod에서 서로 통신하며 함께 동작할 수 있습니다.
- Pod는 쿠버네티스 클러스터에서 IP 주소를 부여받아 네트워크 내에서 독립적으로 통신할 수 있습니다.

### 3. **노드(Node)**

- 쿠버네티스 클러스터는 여러 개의 **노드**로 구성됩니다. 노드는 컨테이너를 실행할 수 있는 물리적 또는 가상 머신입니다.
- 각 노드는 쿠버네티스 **노드 에이전트(kubelet)**가 설치되어, Pod의 상태를 관리하고, 필요한 경우 Pod를 시작하거나 종료하는 역할을 합니다.

### 4. **클러스터**

- 여러 노드들이 모여 하나의 **클러스터**를 구성합니다. 클러스터에는 **마스터 노드**가 있어, 전체 클러스터의 상태와 리소스를 관리합니다.
- 마스터 노드는 애플리케이션 배포와 스케일링, 업그레이드 등을 관리하고, 클러스터 전체의 운영을 책임집니다.

### 5. **ReplicaSet**

- **ReplicaSet**은 특정 Pod의 복제본을 관리하여, 지정된 수만큼의 Pod가 항상 실행되도록 보장합니다. 예를 들어, 3개의 복제본을 설정한 경우, 3개의 Pod가 항상 유지되도록 새로운 Pod를 생성하거나 실패한 Pod를 삭제합니다.
- 이는 고가용성을 보장하고 트래픽의 변동에 따른 확장을 쉽게 만들어 줍니다.

### 6. **Deployment**

- **Deployment**는 ReplicaSet을 포함한 Pod의 배포 및 관리를 선언적으로 설정할 수 있게 해줍니다. 이를 통해 애플리케이션의 버전 업데이트, 롤백 등의 작업을 효율적으로 수행할 수 있습니다.
- 애플리케이션의 선언적 설정을 바탕으로 Kubernetes가 필요한 ReplicaSet과 Pod를 생성 및 관리합니다.

### 7. **Service**

- **Service**는 클러스터 내외부에서 Pod를 연결하고 접근할 수 있도록 해주는 네트워크 구성 요소입니다.
- Pod는 IP 주소가 동적으로 변경되기 때문에, 서비스는 변동하는 Pod들의 집합에 일관된 엔드포인트를 제공합니다. 이를 통해 외부 트래픽을 특정 서비스로 전달할 수 있습니다.

### 8. **Namespace**

- **Namespace**는 클러스터 내에서 여러 환경을 격리하기 위해 사용됩니다. 예를 들어 개발, 테스트, 운영 환경을 각각의 네임스페이스로 분리하여 자원을 구분하고 관리할 수 있습니다.
- 네임스페이스를 통해 같은 클러스터 내에서 리소스를 논리적으로 구분하여 관리할 수 있습니다.

### 9. **ConfigMap과 Secret**

- **ConfigMap**은 애플리케이션이 필요로 하는 설정 정보를 저장하는 데 사용됩니다. 예를 들어, 환경 변수와 같이 외부에 저장할 수 있는 설정 파일입니다.
- **Secret**은 비밀번호, API 키 등의 민감한 데이터를 저장합니다. ConfigMap과 유사하지만 데이터는 인코딩되어 보호됩니다.

### 10. **Ingress**

- **Ingress**는 외부 트래픽을 클러스터 내의 특정 서비스로 라우팅하는 역할을 합니다. 보통 HTTP와 HTTPS 트래픽을 수용하며, 도메인 기반의 라우팅 규칙을 설정할 수 있습니다.
- 이로 인해 클러스터 외부에서 내부 서비스에 접근할 수 있으며, 로드 밸런싱 및 SSL 종료 기능도 제공합니다.

### 쿠버네티스를 통한 주요 이점

- **확장성**: 애플리케이션의 부하에 따라 자동으로 확장 및 축소가 가능하며, 클러스터의 자원을 효율적으로 사용할 수 있습니다.
- **자동 복구**: 오류가 발생한 Pod를 자동으로 재시작하거나, 필요한 경우 재배포하여 시스템의 안정성을 높입니다.
- **배포와 롤백**: 새 버전의 애플리케이션을 배포하고, 문제가 발생하면 손쉽게 이전 버전으로 롤백할 수 있습니다.
- **자원 관리와 격리**: 네임스페이스를 활용해 리소스를 구분하고 자원을 격리하여 다양한 환경을 하나의 클러스터에서 운용할 수 있습니다.

쿠버네티스는 클라우드 환경에서 특히 유용하며, AWS, Google Cloud, Azure 등 주요 클라우드 서비스와 함께 사용됩니다.